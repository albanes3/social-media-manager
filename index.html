<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>.Social</title>
    <link rel="stylesheet" href="bower_components/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/bootstrap/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="app/css/custom.css">
    
  </head>

  <body>
    <br>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span2">
          <div class="sidebar-nav">

            <button id="new_mail" class="btn compose" data-toggle="dropdown">New</button>

            <br><br>

            <ul id="folders" class="nav nav-list">
              <li class="folder-item selected" id="inbox"><i class="icon-folder-close"></i> Inbox</li>
              <li class="folder-item" id="later"><i class="icon-folder-close"></i> Later</li>
              <li class="folder-item" id="sent"><i class="icon-share-alt"></i> Sent</li>
              <li class="folder-item" id="trash"><i class="icon-trash"></i> Trash</li>
            </ul>
          </div>
        </div>

        <div id="mail_panel" class="span10">

          <div id="mail_controls" class="btn-toolbar" style="margin: 0 0 13px">
            <div class="btn-group">
              <button id="delete_mail" class="btn mail-action" disabled><i class="icon-trash"></i> delete</button>
              <button id="move_mail" class="btn mail-action" disabled><i class="icon-move"></i> move</button>
              <button id="forward" class="btn compose mail-action single-item" disabled><i class="icon-arrow-right"></i> forward</button>
              <button id="reply" class="btn compose mail-action single-item" disabled><i class="icon-pencil"></i> reply</button>
            </div>
          </div>

          <table id="mail_items" class="hero-unit table table-hover" style="background-color: #FFFFFF">
            <!-- HTML for SEARCH BAR -->
            <!--<div id="tfheader">
              <form id="tfnewsearch" method="get">-->
            <input type="text" id="tfq" class="tftextinput" name="q" size="21" maxlength="120" value="Search by # or keyword"><input type="submit" id="tfb" value="search" class="tfbutton">
              <!--</form>
            <div class="tfclear"></div>
            </div>-->
            <!--                     -->
            <tbody id="mail_items_TB">
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="compose_box" class="compose-box modal hide fade in"></div>

    <div id="move_to_selector" class="move-to-selector hide"></div>


    <script type="text/javascript">
      searchMailItems = function() {
        var sheet = document.styleSheets[0];
        var searchTerm = document.getElementsByClassName("tfbutton").item(0).getAttribute('value');
        var posts = getElementsByClassName("mail-item");
        alert("Hello! I am an alert box!!");
        for(var i = 0; i < posts.length; i++)
        {
          posts.item(i).style.color = '#ff0000';
          if($('#' + posts.item(i).getAttribute('id')).find('.mailContact').indexOf(searchTerm) < 0 || 
             $('#' + posts.item(i).getAttribute('id')).find('.mailSubject').indexOf(searchTerm) > 0 ||
             $('#' + posts.item(i).getAttribute('id')).find('.mailMessage').indexOf(searchTerm) > 0){
            sheet.insertRule("#" + i.id + " { display: none; }", 1);
            alert("hi"); 
          }
        }
        alert("Hello! I am an alert box!!");
        //alert("" + posts.item(0).getAttribute('id'));
      }

      window.onload = function(){ 
        //Get submit button
        var submitfield = document.getElementById("tfq");
        var submitbutton = document.getElementById("tfb");
        //Add listener to submit button
        if(submitfield.addEventListener){
          submitfield.addEventListener("click", function() {
            if (submitfield.value == 'Search by # or keyword'){//Customize this text string to whatever you want
              submitfield.value = '';
            }
          });
        }
        if(submitbutton.addEventListener){
          submitbutton.addEventListener("click", searchMailItems);
        }
        
      }
      
      
    </script>
    <script src="bower_components/jquery/jquery.js"></script>
    <script src="bower_components/es5-shim/es5-shim.js"></script>
    <script src="bower_components/es5-shim/es5-sham.js"></script>
    <script data-main="requireMain.js" src="bower_components/requirejs/require.js"></script>
  </body>
</html>
